<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Equipment Management System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>Equipment / Component Issue & Return Management</h1>
</header>

<nav>
    <a href="index.html">Home</a>
    <a href="issue.html">Issue Equipment</a>
    <a href="return.html">Return Equipment</a>
</nav>

<section>
    <h2>Current Inventory</h2>
    <button onclick="loadInventory()">Refresh Inventory</button>

    <div id="inventory" class="inventory-list"></div>
</section>

<script>
function loadInventory() {
    fetch("http://localhost:8080/api/equipment/inventory")
        .then(res => res.json())
        .then(data => {
            let html = "<table><thead><tr><th>ID</th><th>Equipment Name</th><th>Available Quantity</th></tr></thead><tbody>";
            data.forEach(item => {
                html += `<tr>
                    <td>${item.id}</td>
                    <td><strong>${item.name}</strong></td>
                    <td>${item.quantity}</td>
                </tr>`;
            });
            html += "</tbody></table>";
            document.getElementById("inventory").innerHTML = html;
        })
        .catch(err => {
            document.getElementById("inventory").innerHTML = "Error loading inventory.";
        });
}

// Load inventory automatically when page loads
window.onload = loadInventory;
</script>

</body>
</html>